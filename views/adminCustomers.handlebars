<br>
<div class="container">
    <div class="card">
        <!-- Default card contents -->
        <div class="card-header">
            <h4 class="card-title">Customers</h4>
        </div>
        <div class="card-block">

            <!-- Table -->
            <div style="height: 500px;overflow:auto;">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th><strong>Name</strong></strong>
                            </th>
                            <th><strong>Last Name</strong></th>
                            <th><strong>Gender</strong></th>
                            <th><strong>Balance</strong></th>
                            <th><strong>Last Visit</strong></th>
                            <th><strong>Details</strong></th>
                            <th><strong>Edit</strong></th>
                            <th><strong>Delete</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        {{!-- show products --}} {{#each customers}}
                        <tr>
                            <td>{{this.name}}</td>
                            <td>{{this.lastname}} </td>
                            <td>{{this.gender}}</td>
                            <td>${{this.balance}}</td>
                            <td>{{this.lastvisit}}</td>

                            <td><i data-toggle="modal" data-target=".bd-example-modal-sm{{@index}}" class="fa fa-info-circle"
                                    aria-hidden="true"></td>
                
                            <div class="modal fade bd-example-modal-sm{{@index}}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-sm">
                                    <div class="modal-content container">
                                        <p><strong>Name:</strong> {{this.name}}</p>
                                        <p><strong>Last Name:</strong> {{this.lastname}}</p>
                                        <p><strong>Password:</strong> {{this.password}}</p>
                                        <p><strong>Gender:</strong> {{this.gender}}</p></strong>
                                        <p><strong>Balance:</strong> {{this.balance}}</p>
                                        <p><strong>Last Visit:</strong> {{this.lastvisit}}</p>
                                        <p><strong>Mobile:</strong> {{this.Phone.dataValues.mobile}}</p>
                                        <p><strong>Home Phone:</strong> {{this.Phone.dataValues.home}}</p>
                                        <p><strong>Email:</strong> {{this.Email.dataValues.email}}</p>
                                        <p><strong>Address1:</strong> {{this.Address.dataValues.address1}}</p>
                                        <p><strong>Address2:</strong> {{this.Address.dataValues.address2}}</p>
                                        <p><strong>City:</strong> {{this.Address.dataValues.city}}</p>
                                        <p><strong>State:</strong> {{this.Address.dataValues.state}}</p>
                                        <p><strong>Zip:</strong> {{this.Address.dataValues.zip}}</p>
                                        <p><strong>Photo:</strong> {{this.photo}}</p>
                                        <p><strong>Comment:</strong> {{this.comment}}</p>
                                    </div>
                                </div>
                            </div>
                            {{!-- update --}}
                            <td>
                                <form action="/admin/customers/{{this.id}}/edit" method="GET">
                                    <button type="submit" class="btn btn-info btn-sm">Edit</i></button>
                                </form>
                            </td>
                            {{!-- delete --}}
                            <td>
                                <form action="/admin/customers/{{this.id}}?_method=DELETE" method="POST">
                                    <button type="submit" class="btn btn-danger btn-sm button-delete">Delete</button>
                                </form>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
        <!-- first card body -->
    </div>
    <!--first card -->
    <br> {{!-- Add new product --}}
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Add Customer</h3>
        </div>
        <!-- penel-heading -->
        <div class="card-block">
            <form class="form-group" action="/admin/customers/new" method="POST">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="">Name</label>
                                <input type="text" class="form-control" name="name" placeholder="name" required>
                            </div>
                            <div class="form-group">
                                <label for="">Last Name</label>
                                <input type="text" class="form-control" name="lastname" placeholder="last name" required>
                            </div>
                            <div class="form-group">
                                <label for="">Gender</label>
                                <input type="text" class="form-control" name="gender" placeholder="gender">
                            </div>
                            <div class="form-group">
                                <label for="">Password</label>
                                <input type="text" class="form-control" name="password" placeholder="password">
                            </div>
                            <div class="form-group">
                                <label for="">Balance</label>
                                <input type="text" class="form-control" name="balance" placeholder="x.xx" required>
                            </div>
                            <div class="form-group">
                                <label for="">Last Visit</label>
                                <div class='input-group date' id='datetimepicker1'>
                                    <input type='text' class="form-control" name="lastvisit" />
                                </div>

                            </div>
                            <div class="form-group">
                                <label for="">Mobile</label>
                                <input type="text" class="form-control" name="mobile" placeholder="mobile">
                            </div>
                            <div class="form-group">
                                <label for="">Home Phone</label>
                                <input type="text" class="form-control" name="home" placeholder="home">
                            </div>
                            
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="">Email</label>
                                <input type="email" class="form-control" name="email" placeholder="REQUIRED" required>
                            </div>
                            <div class="form-group">
                                <label for="">Address1</label>
                                <input type="text" class="form-control" name="address1" placeholder="address1">
                            </div>
                            <div class="form-group">
                                <label for="">Address2</label>
                                <input type="text" class="form-control" name="address2" placeholder="address2">
                            </div>
                            <div class="form-group">
                                <label for="">City</label>
                                <input type="text" class="form-control" name="city" placeholder="city">
                            </div>
                            <div class="form-group">
                                <label for="">State</label>
                                <select class="form-control" name="state" placeholder="state">
                                        <option value="">State</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="DC">District Of Columbia</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="">Zip</label>
                                <input type="text" class="form-control" name="zip" placeholder="zip" required>
                            </div>
                            <div class="form-group">
                                <label for="">Photo</label>
                                <input type="text" class="form-control" name="photo" placeholder="photo">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="">Comment</label>
                                <textarea class="form-control" name="comment" placeholder="comment" row="50" style="height:20em; width: 20em"></textarea>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Customer</button>
                </div>{{!-- container --}}
            </form>
        </div>
        <!-- card-block -->
    </div>
    <!-- second card -->
</div>
<br>
<script type="text/javascript">
    $(document).ready(function () {
        $("#admin-ul").show();
        $("#public-ul").hide();

        $(".button-delete").on("click", function (e) {
            e.preventDefault();

            swal({
                title: "Are you sure?",
                text: "You will not be able to recover this customer!",
                type: "warning",
                showCancelButton: true,
                confirmButtonColor: "#DD6B55",
                confirmButtonText: "Yes, delete it!",
                closeOnConfirm: false
            },
                function (isConfirm) {
                    if (isConfirm) {
                        swal("Deleted!", "Customer has been deleted.", "success");
                        console.log("Frm: ", e.currentTarget.form);
                        e.currentTarget.form.submit();
                        return true;
                    } else {
                        swal("Cancelled", "Your imaginary file is safe :)", "error");
                        return false;
                    }
                });
        });
    });

    function deleteProduct() {
    }
</script>